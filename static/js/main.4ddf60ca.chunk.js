(this["webpackJsonpalt-test-proj"]=this["webpackJsonpalt-test-proj"]||[]).push([[0],{72:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a.n(r),o=a(25),c=a.n(o),i=a(16),l=a(17),u=a(19),p=a(18),d=a(13),j=a(28),h=a.n(j),b=a(35),g=function(e){return{type:"LOGIN",payload:e}},O=function(e){return{type:"SHOW_ALERT",payload:e}},f=a(24),x=a(8),m=a(10),v=a(86),w=Object(m.a)({header:{marginBottom:25},title:{textAlign:"center"},logoutBtn:{visibility:function(e){return e.auth?"visible ":"hidden "}},navbar:{display:"flex",justifyContent:"space-around",fontSize:24,"& > :nth-child(2n)":{margin:"0 30px"}},link:{textDecoration:"none"},active:{fontWeight:700}})((function(e){var t=e.auth,a=e.logout,r=e.classes;return Object(n.jsxs)("header",{className:r.header,children:[Object(n.jsx)(v.a,{variant:"contained",onClick:a,className:r.logoutBtn,children:"Loguot"}),Object(n.jsx)("h1",{className:r.title,children:"My application"}),Object(n.jsxs)("nav",{className:r.navbar,children:[Object(n.jsx)(f.c,{exact:!0,to:"/",className:r.link,activeClassName:r.active,children:"Home"}),Object(n.jsx)(f.c,{to:"/news",className:r.link,activeClassName:r.active,children:"News"}),t?Object(n.jsx)(f.c,{to:"/profile",className:r.link,activeClassName:r.active,children:"Profile"}):Object(n.jsx)(f.c,{to:"/signin",className:r.link,activeClassName:r.active,children:Object(n.jsx)(v.a,{variant:"contained",children:"Sign In"})})]})]})})),y=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).doLogout=function(){window.localStorage.removeItem("user"),e.props.logout()},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(w,{auth:this.props.auth,logout:this.doLogout})}}]),a}(r.Component),N=Object(d.b)((function(e){return{auth:e.auth.auth}}),{logout:function(){return{type:"LOGOUT"}}})(y),A=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h3",{children:"About the app"}),Object(n.jsx)("p",{children:"This application is a SPA that has the following pages:"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"\u201c/ \u201d - the main page, which contains information about the application."}),Object(n.jsx)("li",{children:"\u201c/news\u201d - a page with news, which are loaded from the jasonplaceholder. Pagination works."}),Object(n.jsx)("li",{children:"\u201c/login\u201d - a page on which you can log in to the system to access the page that is closed from unauthorized users (use fake data: login: Admin, password: 12345). If an authorized user tries to visit this pages, a redirect to the profile page will work."}),Object(n.jsx)("li",{children:"\u201c/profile\u201d - a page that closed from unauthorized users. App will redirect the user to homepage if an unauthorized user tries to enter to this page."})]}),Object(n.jsx)("br",{}),"The correctness of the username and password on the login page is checked.",Object(n.jsx)("br",{}),"All information about user is stored in localStorage.",Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:"Stack: react, react-router, redux, redux-thunk, react hooks, jss."})]})},S=a(31),C=a(7),k=a(30),P={wrapper:{width:"100%"},form:{display:"flex",flexFlow:"column",margin:"0 auto",justifyContent:"center",width:400},title:{fontWeight:700,textAlign:"center"},input:{margin:"10px 0",padding:5,border:"2px solid #ccc",borderRadius:2},link:{display:"block",margin:"0 auto",textAlign:"center",textDecoration:"none",color:"grey"}},T=Object(m.a)(P)((function(e){var t=e.login,a=e.showAlert,s=e.hideAlert,o=e.classes,c=Object(r.useState)({login:"",password:""}),i=Object(k.a)(c,2),l=i[0],u=i[1],p=function(e){u(Object(C.a)(Object(C.a)({},l),{},Object(S.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("section",{className:o.wrapper,children:[Object(n.jsxs)("form",{className:o.form,onSubmit:function(e){var n;e.preventDefault();var r=null!==(n=JSON.parse(localStorage.getItem("users")))&&void 0!==n?n:{};r[l.login]&&r[l.login].password===l.password?(localStorage.setItem("user",JSON.stringify(l)),t(l.login)):(a("Wrong username or password"),setTimeout((function(){return s()}),2e3))},children:[Object(n.jsx)("h4",{className:o.title,children:"Please Login"}),Object(n.jsx)("input",{type:"text",name:"login",value:l.login,onChange:p,className:o.input,placeholder:"Login",required:!0}),Object(n.jsx)("input",{type:"password",name:"password",value:l.password,onChange:p,className:o.input,placeholder:"Password",required:!0}),Object(n.jsx)("input",{value:"Log in",type:"submit",className:o.input})]}),Object(n.jsx)(f.b,{to:"/signup",className:o.link,children:"Sign up"})]})})),I=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(T,{login:this.props.login,showAlert:this.props.showAlert,hideAlert:this.props.hideAlert})}}]),a}(r.Component),E=Object(d.b)(null,(function(e){return{login:function(t){return e(g(t))},showAlert:function(t){return e(O(t))},hideAlert:function(){return e({type:"HIDE_ALERT",payload:""})}}}))(I);var L=Object(m.a)(P)((function(e){var t=e.login,a=e.showAlert,s=e.hideAlert,o=e.classes,c=Object(r.useState)({login:"",password:"",confirmPassword:""}),i=Object(k.a)(c,2),l=i[0],u=i[1],p=function(e){u(Object(C.a)(Object(C.a)({},l),{},Object(S.a)({},e.target.name,e.target.value)))};return Object(n.jsx)("div",{className:o.wrapper,children:Object(n.jsxs)("form",{className:o.form,onSubmit:function(e){e.preventDefault();var n=JSON.parse(localStorage.getItem("users"))||{},r=Object.keys(n);l.password!==l.confirmPassword?(a("Your password and confirmation password do not match"),setTimeout((function(){return s()}),2e3)):r.some((function(e){return e===l.login}))?(a("Username is already taken"),setTimeout((function(){return s()}),2e3)):(n[l.login]=l,localStorage.setItem("users",JSON.stringify(n)),localStorage.setItem("user",JSON.stringify(l)),t(l.login))},children:[Object(n.jsx)("h4",{className:o.title,children:"Please enter your info for registration"}),Object(n.jsx)("input",{type:"text",name:"login",value:l.login,onChange:p,className:o.input,placeholder:"Login",required:!0}),Object(n.jsx)("input",{type:"password",name:"password",value:l.password,onChange:p,className:o.input,placeholder:"Password",required:!0}),Object(n.jsx)("input",{type:"password",name:"confirmPassword",value:l.confirmPassword,onChange:p,className:o.input,placeholder:"Confirm Password",required:!0}),Object(n.jsx)("input",{value:"Sign up",type:"submit",className:o.input})]})})})),R=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(L,{login:this.props.login,showAlert:this.props.showAlert,hideAlert:this.props.hideAlert})}}]),a}(r.Component),_=Object(d.b)(null,(function(e){return{login:function(t){return e(g(t))},showAlert:function(t){return e(O(t))},hideAlert:function(){return e({type:"HIDE_ALERT",payload:""})}}}))(R),D=a(56),B=a(85),J=Object(m.a)({post:{margin:"20px 10px",padding:30,border:"2px solid #dadada",transition:"background-color .4s","&:hover":{backgroundColor:"#dadada",transition:"background-color .4s"}},title:{fontWeight:700},author:{color:"#5e5e5e"}})((function(e){var t=e.title,a=e.body,r=e.userId,s=e.classes;return Object(n.jsxs)("div",{className:s.post,children:[Object(n.jsx)("div",{className:s.title,children:t}),Object(n.jsxs)("small",{className:s.author,children:["Author:\xa0",r]}),Object(n.jsx)("div",{children:a})]})})),W=10,H=Object(m.a)({table:{width:"100%"},row:{width:"100%"},leftCell:{textAlign:"right",width:"45%"},centralCell:{width:"10%",textAlign:"center"},rightCell:{width:"45%"},btn:{margin:"0px 10px"},spiner:{marginTop:20,display:"flex",justifyContent:"center"},newsList:{display:"grid",gridTemplateColumns:"1fr 1fr",gridColumnGap:10,gridRowGap:10},"@media screen and (max-width: 600px)":{newsList:{gridTemplateColumns:"1fr"}}})((function(e){var t=e.classes,a=Object(D.a)(e,["classes"]),r=Object(n.jsx)("table",{className:t.table,children:Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{className:t.row,children:[Object(n.jsx)("td",{className:t.leftCell,children:a.page?Object(n.jsx)(v.a,{variant:"outlined",className:t.btn,onClick:a.prevPage,disabled:a.loader,children:"Prev"}):null}),Object(n.jsx)("td",{className:t.centralCell,children:Object(n.jsxs)("span",{children:["Page:\xa0",Object(n.jsx)("span",{children:a.page?a.page/W+1:a.page+1})]})}),Object(n.jsx)("td",{className:t.rightCell,children:a.page/W===9?null:Object(n.jsx)(v.a,{variant:"outlined",className:t.btn,onClick:a.nextPage,disabled:a.loader,children:"Next"})})]})})});return Object(n.jsxs)("section",{children:[r,a.loader?Object(n.jsx)("div",{className:t.spiner,children:Object(n.jsx)(B.a,{})}):Object(n.jsx)("div",{className:t.newsList,children:a.news.map((function(e){return Object(n.jsx)(J,{title:e.title,body:e.body,userId:e.userId},e.id)}))})]})})),G=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).nextPage=Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.nextPage();case 2:e.props.fetchNews(e.props.page);case 3:case"end":return t.stop()}}),t)}))),e.prevPage=Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.prevPage();case 2:e.props.fetchNews(e.props.page);case 3:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchNews(this.props.page)}},{key:"render",value:function(){return Object(n.jsx)(H,{news:this.props.news,page:this.props.page,loader:this.props.loader,nextPage:this.nextPage,prevPage:this.prevPage})}}]),a}(r.Component),F={fetchNews:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SWITCH_LOADER"}),t.next=3,fetch("https://jsonplaceholder.typicode.com/posts?_start=".concat(e,"&_limit=10"));case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,a({type:"FETCH_NEWS",payload:r}),a({type:"SWITCH_LOADER"});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},nextPage:function(){return{type:"NEXT_PAGE"}},prevPage:function(){return{type:"PREV_PAGE"}}},z=Object(d.b)((function(e){return{news:e.news.news,page:e.news.page,loader:e.news.loader}}),F)(G);var q=Object(m.a)({form:{width:"100%",display:"flex",margin:"20px 0"},field:{fontSize:"16px",flexGrow:1,marginRight:"10px",padding:"5px 10px",outlineStyle:"none",border:"none",borderBottom:"2px solid rgb(228, 228, 228)",borderRadius:"2px"},".addBtn, .crossBtn":{border:"none",borderRadius:"4px",cursor:"pointer"},".addBtn:hover, .crossBtn:hover":{backgroundColor:"rgb(212, 211, 211)"},post:{display:"flex",justifyContent:"space-between",border:"1px solid #ccc",margin:"10px 0",padding:"4px",backgroundColor:"#fffafa",borderRadius:"2px"}})((function(e){var t=e.user,a=e.classes,s=Object(r.useState)(""),o=Object(k.a)(s,2),c=o[0],i=o[1],l=Object(r.useState)([]),u=Object(k.a)(l,2),p=u[0],d=u[1];return Object(r.useEffect)((function(){JSON.parse(localStorage.getItem("posts"))||localStorage.setItem("posts","{}");var e=JSON.parse(localStorage.getItem("posts"))[t];e&&d(e)}),[t]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("form",{className:a.form,onSubmit:function(e){e.preventDefault();var a=JSON.parse(localStorage.getItem("posts"));a[t]||(a[t]=[]),a[t].push({text:c,date:Date.now(),completed:!1}),localStorage.setItem("posts",JSON.stringify(a)),d(a[t]),i("")},children:[Object(n.jsx)("input",{type:"text",value:c,name:"post1",placeholder:"Enter your post",autoComplete:"off",className:a.field,onChange:function(e){i(e.target.value)}}),Object(n.jsx)("input",{type:"submit",className:a.addBtn,value:"Add"})]}),p.map((function(e){return Object(n.jsxs)("div",{className:a.post,children:[Object(n.jsx)("div",{children:e.text}),Object(n.jsx)("button",{className:a.crossBtn,onClick:function(){return function(e){var a=JSON.parse(localStorage.getItem("posts"));a[t]=a[t].filter((function(t){return t.date!==e.date})),localStorage.setItem("posts",JSON.stringify(a)),d(a[t])}(e)},children:"\xd7"})]},e.date)}))]})})),M=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)(q,{user:this.props.user})})}}]),a}(r.Component),U=Object(d.b)((function(e){return{user:e.auth.user}}),null)(M),V=Object(m.a)({alert:{position:"absolute",bottom:"2vh",left:"1vw",minWidth:300,width:"fit-content",height:50,backgroundColor:"rgb(243, 226, 128)",fontWeight:700,fontSize:14,display:"flex",alignItems:"center",borderRadius:5},closeButton:{position:"absolute",top:5,right:5,padding:"3px 5px",border:"none",borderRadius:5,backgroundColor:"rgba(255, 255, 255, 0.1)",outlineStyle:"none","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.3)"}},text:{margin:"0 25px 0 10px"}})((function(e){var t=e.text,a=e.closeFunc,r=e.classes;return Object(n.jsxs)("div",{className:r.alert,children:[Object(n.jsx)("span",{className:r.text,children:t}),Object(n.jsx)("button",{onClick:a,className:r.closeButton,children:"\xd7"})]})}));var X=Object(m.a)({app:{"max-width":"1200px",margin:"0 auto",fontFamily:'"Roboto", sans-serif'}})((function(e){var t=e.auth,a=e.alert,r=e.alertText,s=e.hideAlert,o=e.classes;return Object(n.jsx)("div",{className:o.app,children:Object(n.jsxs)(f.a,{children:[Object(n.jsx)(N,{}),Object(n.jsxs)(x.d,{children:[Object(n.jsx)(x.b,{exact:!0,path:"/",children:Object(n.jsx)(A,{})}),Object(n.jsx)(x.b,{path:"/news",children:Object(n.jsx)(z,{})}),Object(n.jsx)(x.b,{path:"/profile",children:t?Object(n.jsx)(U,{}):Object(n.jsx)(x.a,{to:"/"})}),Object(n.jsx)(x.b,{path:"/signin",children:t?Object(n.jsx)(x.a,{to:"/profile"}):Object(n.jsx)(E,{})}),Object(n.jsx)(x.b,{path:"/signup",children:t?Object(n.jsx)(x.a,{to:"/"}):Object(n.jsx)(_,{})})]}),a&&Object(n.jsx)(V,{text:r,closeFunc:function(){return s()}})]})})})),Y=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.localStorage.getItem("user")&&this.props.login()}},{key:"render",value:function(){return Object(n.jsx)(X,{auth:this.props.auth,alert:this.props.alert,alertText:this.props.alertText,hideAlert:this.props.hideAlert})}}]),a}(r.Component),K=Object(d.b)((function(e){return{auth:e.auth.auth,alert:e.alert.showAlert,alertText:e.alert.alertText}}),(function(e){return{login:function(t){return e(g(t))},hideAlert:function(){return e({type:"HIDE_ALERT",payload:""})}}}))(Y),Q=a(27),Z="FETCH_NEWS",$="LOGIN",ee="LOGOUT",te="SWITCH_LOADER",ae="NEXT_PAGE",ne="PREV_PAGE",re="SHOW_ALERT",se="HIDE_ALERT",oe={showAlert:!1,alertText:""},ce={auth:!1,user:""},ie={news:[],page:0,loader:!1},le=Object(Q.c)({news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(C.a)(Object(C.a)({},e),{},{news:t.payload});case ae:return Object(C.a)(Object(C.a)({},e),{},{page:e.page+W});case ne:return Object(C.a)(Object(C.a)({},e),{},{page:e.page-W});case te:return Object(C.a)(Object(C.a)({},e),{},{loader:!e.loader});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(C.a)(Object(C.a)({},e),{},{auth:!0,user:t.payload});case ee:return Object(C.a)(Object(C.a)({},e),{},{auth:!1,user:""});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(C.a)(Object(C.a)({},e),{},{showAlert:!0,alertText:t.payload});case se:return Object(C.a)(Object(C.a)({},e),{},{showAlert:!1,alertText:""});default:return e}}}),ue=a(55),pe=Object(Q.e)(le,Object(Q.d)(Object(Q.a)(ue.a)));c.a.render(Object(n.jsx)(d.a,{store:pe,children:Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(K,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.4ddf60ca.chunk.js.map